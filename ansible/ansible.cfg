# Ansible Configuration File
# This file configures Ansible behavior for the Momo Splitwise project

[defaults]
# Inventory file location
inventory = inventory/hosts.yml

# Roles path - where Ansible looks for roles
roles_path = roles

# Remote user for SSH connections
remote_user = azureuser

# Private key file for SSH authentication
private_key_file = ~/.ssh/id_rsa

# Host key checking (set to False for first-time connections)
host_key_checking = False

# Retry files location
retry_files_enabled = False

# Display skipped tasks
display_skipped_hosts = True

# Display OK tasks
display_ok_hosts = True

# Timeout for SSH connections (in seconds) - increased for slow connections
timeout = 60

# Use persistent SSH connections for better performance
[persistent_connection]
connect_timeout = 60
command_timeout = 120
retry_timeout = 30

# Privilege escalation settings
[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

# SSH settings
[ssh_connection]
# Increased timeouts for better reliability
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no -o ConnectTimeout=60 -o ServerAliveInterval=30 -o ServerAliveCountMax=3 -o TCPKeepAlive=yes
pipelining = True
control_path_dir = ~/.ansible/cp
# Retry connection attempts
retries = 3
timeout = 60

# Output formatting
[colors]
highlight = white
verbose = blue
warn = bright purple
error = red
debug = dark gray
deprecate = purple
skip = cyan
unreachable = red
ok = green
changed = yellow

